<div
  role="alert"
  class="alert alert-success fixed z-10 transition will-change-auto"
  [ngClass]="{
    'scale-100 transform opacity-100': success,
    'scale-95 transform opacity-0': !success
  }"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="h-6 w-6 shrink-0 stroke-current"
    fill="none"
    viewBox="0 0 24 24"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
    />
  </svg>
  <span>Vos informations ont bien été mises à jour.</span>
</div>
<div class="hero min-h-[calc(100vh-4rem)]">
  <div class="hero-content flex-col gap-16 text-center">
    <h1 class="text-5xl font-bold">Mon compte</h1>
    <form class="space-y-4" [formGroup]="updateForm" (ngSubmit)="onSubmit()">
      <input
        type="text"
        class="input input-bordered w-full"
        placeholder="Prénom"
        autocomplete="given-name"
        formControlName="firstName"
      />
      <input
        type="text"
        class="input input-bordered w-full"
        placeholder="Nom"
        autocomplete="family-name"
        formControlName="lastName"
      />
      <label class="input input-bordered flex items-center gap-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 16 16"
          fill="currentColor"
          class="h-4 w-4 opacity-70"
        >
          <path
            d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"
          />
          <path
            d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"
          />
        </svg>
        <input
          type="email"
          class="grow"
          placeholder="Email"
          autocomplete="username"
          formControlName="email"
        />
      </label>
      <button
        type="submit"
        class="btn btn-primary w-full hover:bg-transparent hover:text-secondary-content"
        [disabled]="updateForm.invalid || loading"
      >
        @if (loading) {
          <span class="loading loading-dots"></span>
        } @else {
          Mettre à jour mes informations
        }
      </button>
    </form>
    <a [routerLink]="['/account/logout']" class="link"> Se déconnecter </a>
  </div>
</div>
